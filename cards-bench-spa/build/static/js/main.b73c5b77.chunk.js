(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{43:function(e,t,a){e.exports=a(88)},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),i=a.n(o),s=(a(48),a(4)),l=a(6),c=a(8),d=a(7),u=a(14),m=a(10),g=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=void 0===this.props.token?"token":this.props.token,t=void 0===this.props.redirectTo?"/":this.props.redirectTo,a=this.props.component;return localStorage.getItem(e)?r.a.createElement(a,null):r.a.createElement(m.a,{to:{pathname:t}})}}]),a}(r.a.Component),p=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=void 0===this.props.token?"token":this.props.token,t=void 0===this.props.redirectTo?"/":this.props.redirectTo,a=this.props.component;return null===localStorage.getItem(e)?r.a.createElement(a,this.props):r.a.createElement(m.a,{to:{pathname:t}})}}]),a}(r.a.Component),h=a(15),f=(a(54),function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e={width:this.props.width,height:this.props.height,borderWidth:this.props.borderWidth,borderStyle:this.props.borderStyle,borderColor:this.props.borderColor};return r.a.createElement("div",{style:e,className:"loader"})}}]),a}(n.Component)),v=a(40);a(55);var b=function(e){var t=Object(v.a)({display:!0===e.toggle?"block":"none"},e.style);return r.a.createElement("div",{className:"react-dropdown-menu"},r.a.createElement("span",{onClick:function(){return e.toggleDropDownMenu("dropdown-toggle")},className:"dropdown-toggle-botton"},e.text," ",r.a.createElement("i",{className:"dropdown-toggle-symbol mb-1"})),r.a.createElement("div",{style:t,className:"dropdown-items text-center"},e.dropDownMenuItems))},E=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={toggle:!1},e.EventListenerFunction=function(t){t.target.matches(".dropdown-toggle")?e.setState({toggle:!1}):e.toggleDropDownMenu(!1)},e.toggleDropDownMenu=function(t){!1===t||!0===e.state.toggle?e.setState({toggle:!1}):"dropdown-toggle"===t&&setTimeout((function(){e.setState({toggle:!0})}),30)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.EventListenerFunction,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.EventListenerFunction,!1)}},{key:"render",value:function(){var e=this,t=this.props.dropDownMenuItems.map((function(t,a){return r.a.createElement("span",{className:"mb-1",key:a,onClick:function(){return e.toggleDropDownMenu("dropdown-toggle")}}," ",t," ")}));return r.a.createElement(b,{text:this.props.text,dropDownMenuItems:t,toggleDropDownMenu:this.toggleDropDownMenu,toggle:this.state.toggle,style:this.props.style})}}]),a}(n.Component);a(56);var C=function(e){var t;if(e.authenticated){var a=e.decodedToken(),n=[r.a.createElement(u.b,{style:{textDecoration:"none"},className:"button button-info button-small d-block mb-1 mr-2",to:"/profile"},"Profile"),r.a.createElement(u.b,{style:{textDecoration:"none"},className:"button button-danger button-small d-block mb-1 mr-2",onClick:e.logout,to:"/"},"Log Out")],o={marginTop:"15px"};t=!1===e.isSmallScreen?r.a.createElement("form",{className:"form-inline"},r.a.createElement(u.b,{to:"/",className:"ml-3 item"},"Home"),r.a.createElement(u.b,{to:"/boards",className:"ml-3 item"},"Boards"),r.a.createElement("div",{className:"user-knownas ml-3 item"},r.a.createElement(E,{style:o,text:a.family_name,dropDownMenuItems:n}))):r.a.createElement("form",{className:"form-inline"},r.a.createElement(u.b,{to:"/boards",className:"item"},"Boards"),r.a.createElement("div",{className:"ml-3 item"},r.a.createElement(E,{style:o,text:a.family_name,dropDownMenuItems:n})))}else t=e.showLoginBar?r.a.createElement("form",{onSubmit:e.login,className:"form-inline my-2 my-lg-0"},r.a.createElement("input",{name:"email",type:"email",autoComplete:"off",placeholder:"Email",className:"form-control mr-sm-2",value:e.loginInfo.email,onChange:e.handleChange,disabled:e.loginInfo.loggingIn}),r.a.createElement("input",{type:"password",name:"password",autoComplete:"off",placeholder:"Password",className:"form-control mr-sm-2",value:e.loginInfo.password,onChange:e.handleChange,disabled:e.loginInfo.loggingIn}),!1===e.loginInfo.loggingIn?r.a.createElement("button",{className:"btn btn-outline-light mr-2 my-2 my-sm-0",disabled:!1===e.loginInfo.validForm},"Login"):r.a.createElement("span",{className:"mr-2 my-2 my-sm-0"},r.a.createElement(f,{width:20,height:20,borderWidth:8,borderStyle:"solid",borderColor:"f3f3f3"})),r.a.createElement("span",{onClick:e.toggleLogin,className:"btn btn-outline-danger my-2 my-sm-0",disabled:e.loginInfo.loggingIn},"Cancel")):r.a.createElement("form",{className:"form-inline"},r.a.createElement("span",{onClick:e.toggleLogin,className:"btn btn-outline-dark text-light mr-2 my-sm-0"},"Login"),r.a.createElement(u.b,{to:"/register",className:"btn btn-outline-light my-sm-0"},"Register"));return r.a.createElement("nav",{className:"navbar w-100 pt-0 pb-0"},r.a.createElement(u.b,{to:"/",className:"navbar-brand"}," CardsBench "),t)},w=a(3),T=a.n(w),y=a(12),S=a(13),B=a.n(S),O=a(41),k=a.n(O);function I(e){return N.apply(this,arguments)}function N(){return(N=Object(y.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={url:"http://localhost:5000/api/auth/login",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{email:t.email,password:t.password}},e.abrupt("return",B()(a).then((function(e){localStorage.clear(),localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user))})).catch((function(e){console.log(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){localStorage.clear()}function x(e){return j.apply(this,arguments)}function j(){return(j=Object(y.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={url:"http://localhost:5000/api/auth/register",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{email:t.email,password:t.password,gender:t.gender,knownAs:t.knownAs}},e.abrupt("return",B()(a).then((function(e){localStorage.setItem("registerResponse","success")})).catch((function(e){void 0!==e.response?localStorage.setItem("registerResponse",JSON.stringify(e.response.data)):localStorage.setItem("registerResponse","Server may be offline, try again later.")})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=a(21),A=a.n(U),D=function e(){Object(s.a)(this,e)};D.info=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bottom-end";A.a.fire({text:e,timer:t,showConfirmButton:a,position:n})},D.mixin=function(e,t){return A.a.mixin({input:"text",confirmButtonText:"Next &rarr;",showCancelButton:!0,progressSteps:t,confirmButtonColor:"#333333",background:"#141414"}).queue(e.map((function(e){return{title:void 0===e[0]?"":e[0],text:void 0===e[1]?"":e[1],confirmButtonText:void 0===e[2]?"Next &rarr;":e[2]}})))},D.preConfirm=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"done",n=arguments.length>3?arguments[3]:void 0;return A.a.fire({title:e,text:t,input:"text",inputAttributes:{autocapitalize:"off"},showCancelButton:!0,confirmButtonText:a,showLoaderOnConfirm:!0,preConfirm:n,allowOutsideClick:function(){return!A.a.isLoading()}})},D.success=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"top-end";A.a.fire({position:r,icon:"success",title:e,text:t,showConfirmButton:a,confirmButtonText:n})},D.warning=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Yes, Delete it!",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Cancel",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#d33",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"5fd980";return A.a.fire({title:e,text:t,icon:"warning",showCancelButton:!0,confirmButtonColor:r,cancelButtonColor:o,confirmButtonText:a,cancelButtonText:n})},D.error=function(e,t,a){A.a.fire({icon:"error",title:e,text:t,confirmButtonText:void 0===a?"OK":a})};var M=D,P=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showLoginBar:!1,email:"",password:"",validEmail:"untouched",validPassword:"untouched",validForm:!1,loggingIn:!1},e.toggleLogin=function(){e.setState({showLoginBar:!e.state.showLoginBar})},e.login=function(t){t.preventDefault(),e.setState({loggingIn:!0}),I({email:e.state.email,password:e.state.password}).finally((function(){null!==localStorage.getItem("token")?(e.props.changeAuthenticationState(),M.success("Welcome "+JSON.parse(localStorage.getItem("user")).knownAs,"Have a nice day.",!1,"")):M.info("Wrong Email or Password"),e.setState({loggingIn:!1})}))},e.logout=function(t){t.preventDefault(),L(),e.props.changeAuthenticationState(),M.info("Logged out. Redirecting to the Homepage.")},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(h.a)({},n,r),e.checkFormValidation)},e}return Object(l.a)(a,[{key:"checkFormValidation",value:function(){var e=new RegExp(/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i).test(this.state.email),t=!0;this.state.password.length>3?this.setState({validPassword:"true"}):this.state.password.length>0?(this.setState({validPassword:"false"}),t=!1):t=!1,e?this.setState({validEmail:"true"}):this.state.email.length>0?(this.setState({validEmail:"false"}),t=!1):t=!1,t?this.setState({validForm:!0}):this.setState({validForm:!1})}},{key:"render",value:function(){return r.a.createElement(C,{authenticated:this.props.authenticated,showLoginBar:this.state.showLoginBar,logout:this.logout,loginInfo:this.state,handleChange:this.handleChange,login:this.login,toggleLogin:this.toggleLogin,decodedToken:function(){return void 0!==localStorage.getItem("token")?k()(localStorage.getItem("token")):""},isSmallScreen:this.props.isSmallScreen})}}]),a}(n.Component);var F=function(){return r.a.createElement("div",null,"Home Component")},W=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(F,null)}}]),a}(n.Component);a(77);var H=function(e){var t={width:e.isSmallScreen?"90%":"60%",padding:"50px 25px 80px 25px",margin:"50px auto",background:"#efefef",textAlign:"center",WebkitBoxShadow:"2px 2px 3px rgba(0,0,0,0.1)",boxShadow:"2px 2px 3px rgba(0,0,0,0.1)",verticalAlign:"middle"};return r.a.createElement("div",{className:"register",style:t},r.a.createElement("form",{onSubmit:e.register},r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("label",{className:"form-check-label pr-1",htmlFor:"inlineRadio1"},"Male"),r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"inlineRadio1",value:"Male",onChange:e.handleChange,defaultChecked:!0})),r.a.createElement("div",{className:"form-check form-check-inline"},r.a.createElement("label",{className:"form-check-label pr-1",htmlFor:"inlineRadio2"},"Female"),r.a.createElement("input",{className:"form-check-input",type:"radio",name:"gender",id:"inlineRadio2",value:"Female",onChange:e.handleChange})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Email",value:e.registerInfo.email,onChange:e.handleChange})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("input",{type:"email",className:"form-control",name:"confirmEmail",placeholder:"Confirm Email",value:e.registerInfo.confirmEmail,onChange:e.handleChange}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:e.registerInfo.password,onChange:e.handleChange})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("input",{type:"password",className:"form-control",name:"confirmPassword",placeholder:"Confirm Password",value:e.registerInfo.confirmPassword,onChange:e.handleChange}))),r.a.createElement("center",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control w-100",name:"knownAs",placeholder:"Nickname",value:e.registerInfo.knownAs,onChange:e.handleChange}))),!1===e.registerInfo.registering?r.a.createElement("button",{className:"btn btn-primary"},"Sign up"):r.a.createElement("center",null,r.a.createElement(f,{width:48,height:48,borderWidth:8,borderStyle:"solid",borderColor:"f3f3f3"}))))},R=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",confirmEmail:"",password:"",confirmPassword:"",gender:"Male",knownAs:"",registering:!1},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(h.a)({},n,r))},e.register=function(t){t.preventDefault(),e.setState({registering:!0}),x(e.state).finally((function(){if("success"===localStorage.getItem("registerResponse")){var t={email:e.state.email,password:e.state.password};M.success("Registration Successful"),I(t).finally((function(){null!==localStorage.getItem("token")&&e.props.changeAuthenticationState()}))}e.setState({registering:!1})}))},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(H,{isSmallScreen:this.props.isSmallScreen,handleChange:this.handleChange,registerInfo:this.state,register:this.register})}}]),a}(n.Component);function z(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(y.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"http://localhost:5000/api/".concat(a,"/boards/"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+localStorage.getItem("token")},data:{name:t.boardName}},e.next=3,B()(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,t){return G.apply(this,arguments)}function G(){return(G=Object(y.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"http://localhost:5000/api/".concat(t,"/boards/").concat(a),method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")}},e.next=3,B()(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e,t,a){return K.apply(this,arguments)}function K(){return(K=Object(y.a)(T.a.mark((function e(t,a,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={url:"http://localhost:5000/api/".concat(t,"/boards/addusers"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+localStorage.getItem("token")},data:{usersEmails:n,boardId:a}},e.next=3,B()(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t){return V.apply(this,arguments)}function V(){return(V=Object(y.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"http://localhost:5000/api/".concat(a,"/boards/").concat(t),method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("token")}},e.next=3,B()(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){return $.apply(this,arguments)}function $(){return($=Object(y.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"http://localhost:5000/api/".concat(t,"/boards/"),method:"PUT",headers:{Authorization:"Bearer "+localStorage.getItem("token")},data:{boardId:a.boardId,boardName:a.boardName}},e.next=3,B()(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(y.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={url:"http://localhost:5000/api/".concat(t,"/boards/userboards"),method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+localStorage.getItem("token")}},e.next=3,B()(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(78);var ee=function(e){return r.a.createElement("div",{className:"error-page d-flex align-items-center"},r.a.createElement("div",{className:"error-code text-center"},void 0===e.code?e.location.state.code:e.code),r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"pt-5 mt-5 pb-5 error-text"},void 0===e.text?e.location.state.text:e.text),r.a.createElement("span",null," ",void 0===e.buttonHTML?r.a.createElement(u.b,{to:"/",className:"error-page-button"},"HOMEPAGE"):e.buttonHTML," ")))},te=a(89),ae=a(42),ne=a(90);a(79);var re=function(e){var t=e.confirmButtonText,a=e.cancelButtonText,n=e.style,o=e.showCancelButton?"ml-1":"";return r.a.createElement("div",{className:"pop-up-box text-center container",style:n},r.a.createElement(te.a,null,r.a.createElement("center",null,e.popUpBoxContent),r.a.createElement(ae.a,null,e.showCancelButton?r.a.createElement(ne.a,{className:"button button-info button-small",onClick:e.onCancelClick,disabled:e.disableCancelButton},a):"",e.showConfirmButton?r.a.createElement(ne.a,{type:"submit",className:"button button-success button-small "+o,onClick:e.onConfirmClick,disabled:e.disableConfirmButton},t):"")))},oe=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showPopUpBox:!1},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.style,t=this.props.popUpBoxContent,a=void 0===this.props.confirmButtonText?"Confirm":this.props.confirmButtonText,n=void 0===this.props.showConfirmButton||this.props.showConfirmButton,o=this.props.confirmButtonFunction,i=this.props.disableConfirmButton,s=void 0===this.props.cancelButtonText?"Cancel":this.props.cancelButtonText,l=void 0===this.props.showCancelButton||this.props.showCancelButton,c=this.props.cancelButtonFunction,d=this.props.disableCancelButton;return r.a.createElement(re,{popUpBoxContent:t,confirmButtonText:a,cancelButtonText:s,style:e,onConfirmClick:o,showConfirmButton:n,disableConfirmButton:i,onCancelClick:c,showCancelButton:l,disableCancelButton:d})}}]),a}(n.Component);var ie=function(e){return r.a.createElement(u.b,{to:"/boards/"+e.boardId+"/"+e.boardName,className:"boards col-12 col-sm-4 col-md-6 col-lg-4 mb-2"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-img-wrapper"},r.a.createElement("img",{className:"card-img-top card-img",alt:e.boardName+"board",src:"https://i.pinimg.com/564x/6f/d6/8c/6fd68ced202b643053e9f281de52a016.jpg"}),r.a.createElement("div",{className:"card-content d-flex justify-content-between"},r.a.createElement("div",{className:"card-title pt-1"}," ",e.boardName," ")))))};a(81);var se=function(e){if(e.loadingBoards)return r.a.createElement("div",null,r.a.createElement("div",{className:"boards-loader"},r.a.createElement("div",{className:"loader-view pb-5 mb-5 d-flex justify-content-center"},r.a.createElement(f,{width:100,height:100})),r.a.createElement("div",{className:"loader-view loader-text mt-5 pt-5 d-flex justify-content-center"},r.a.createElement("h5",null,"Loading boards..."))));if(e.errorLoadingBoards)return r.a.createElement(ee,{code:"500",text:"Error while loading your boards.",buttonHTML:r.a.createElement("button",{onClick:function(){return e.loadBoards()},className:"error-page-button"},"CLICK TO TRY AGAIN")});var t=e.boards.map((function(t){return r.a.createElement(ie,{className:"board",goToBoard:e.goToBoard,key:t.boardId,addUsers:function(){return e.addUsers(t.boardId)},deleteBoard:function(){return e.deleteBoard(t.boardId)},boardName:t.boardName,boardId:t.boardId})})),a=r.a.createElement("div",{className:"mt-3"},r.a.createElement("h3",{style:{color:"#1c1e21"}},"Board Title"),r.a.createElement("center",null,r.a.createElement("div",{className:"mb-4"},r.a.createElement("input",{type:"text",autoFocus:"on",onChange:e.handleChange,name:"boardName",className:"form-control",placeholder:"Board Title",style:{width:window.innerWidth>767?"300px":""},value:e.boardname,autoComplete:"off"})))),n={background:"rgba(255, 255, 255, 0.8)",width:window.innerWidth>767?"600px":"",height:"200px",top:"35%",position:"fixed"},o=!!e.toggleCreatingBoard,i={opacity:o?.4:1,pointerEvents:o?"none":"",WebkitUserSelect:o?"none":"",msUserSelect:o?"none":"",userSelect:o?"none":""};return r.a.createElement("div",null,r.a.createElement("div",{style:i,className:"boards-view"},r.a.createElement("div",{className:"text-right mt-3 mb-3 mr-5 "},!e.creatingBoard&&!e.deletingBoard&&t.length>0?r.a.createElement("button",{disabled:e.creatingBoard,onClick:function(){return e.toggleCreatingBoardWindow()},className:"button button-purple"},"NEW BOARD"):"",e.creatingBoard?r.a.createElement("div",null,r.a.createElement("div",{className:"float-right ml-2"},r.a.createElement(f,{borderWidth:4,width:30,height:30})),r.a.createElement("div",null,r.a.createElement("h5",null,"Creating your board..."))):"",e.deletingBoard?r.a.createElement("div",null,r.a.createElement("div",{className:"float-right ml-2"},r.a.createElement(f,{borderWidth:4,width:30,height:30})),r.a.createElement("div",null,r.a.createElement("h5",null,"Deleting your board..."))):""),r.a.createElement("div",{className:"boards"},t.length>0||e.creatingBoard?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"}," ",t," ")):r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"pt-5 mt-5 pb-5 noboards-text"},"NO BOARDS TO SHOW. START BY CLICKING ON NEW BOARD."),r.a.createElement("button",{disabled:e.creatingBoard,onClick:function(){return e.toggleCreatingBoardWindow()},className:"button button-purple"},"NEW BOARD")))),!0===e.toggleCreatingBoard?r.a.createElement("div",null,r.a.createElement(oe,{style:n,popUpBoxContent:a,cancelButtonFunction:e.toggleCreatingBoardWindow,confirmButtonFunction:e.createBoard,disableConfirmButton:e.boardName.length<1})):"")},le=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={boardName:"",usersToAdd:"",userId:JSON.parse(localStorage.getItem("user")).id,boards:{},loadingBoards:!0,errorLoadingBoards:!1,creatingBoard:!1,deletingBoard:!1,toggleCreatingBoard:!1},e.loadBoards=function(){e.setState({loadingBoards:!0}),Q(e.state.userId).then((function(t){e.setState({boards:t.data.boards}),e.setState({errorLoadingBoards:!1})})).catch((function(t){e.setState({errorLoadingBoards:!0}),console.log(t)})).finally((function(){e.setState({loadingBoards:!1})}))},e.toggleCreatingBoardWindow=function(){e.setState({toggleCreatingBoard:!e.state.toggleCreatingBoard})},e.createBoard=function(t){t.preventDefault();var a={boardName:e.state.boardName};""!==a.boardName?(e.setState({creatingBoard:!0}),e.toggleCreatingBoardWindow(),z(a,e.state.userId).then((function(t){e.setState((function(e){return e.boards.splice(0,0,t.data.board),{boards:e.boards,creatingBoard:!1}})),M.success("Board has been created","",!1)})).catch((function(e){console.log(e)})).finally((function(){e.setState({creatingBoard:!1})}))):M.info("Board name can not be empty.")},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(h.a)({},n,r))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadBoards()}},{key:"render",value:function(){return r.a.createElement(se,{className:"boards",handleChange:this.handleChange,createBoard:this.createBoard,deleteBoard:this.deleteBoard,boards:this.state.boards,loadingBoards:this.state.loadingBoards,creatingBoard:this.state.creatingBoard,deletingBoard:this.state.deletingBoard,errorLoadingBoards:this.state.errorLoadingBoards,toggleCreatingBoard:this.state.toggleCreatingBoard,toggleCreatingBoardWindow:this.toggleCreatingBoardWindow,loadBoards:this.loadBoards,boardName:this.state.boardName})}}]),a}(n.Component);function ce(e,t){return de.apply(this,arguments)}function de(){return(de=Object(y.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"http://localhost:5000/api/".concat(a.userId,"/").concat(a.boardId,"/lists"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+localStorage.getItem("token")},data:{title:t}},e.next=3,B()(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e,t){return me.apply(this,arguments)}function me(){return(me=Object(y.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"http://localhost:5000/api/".concat(a.userId,"/").concat(a.boardId,"/lists/").concat(t),method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+localStorage.getItem("token")}},e.next=3,B()(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(y.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"http://localhost:5000/api/".concat(a.userId,"/").concat(a.boardId,"/lists"),method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+localStorage.getItem("token")},data:{listId:t.listId,title:t.title,order:t.order}},e.next=3,B()(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(82);var he=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={mouseDown:!1,index:e.props.index,X:"",Y:"",moveable:""},e.mouseDown=function(t){var a=e.state.moveable.offsetLeft-t.clientX,n=e.state.moveable.offsetTop-t.clientY;e.setState({mouseDown:!0,X:a,Y:n})},e.mouseUp=function(){e.setState({mouseDown:!1})},e.mouseMove=function(t){e.state.mouseDown&&e.setState((function(a){return a.moveable.style.left=t.clientX+e.state.X+"px",a.moveable.style.top=t.clientY+e.state.Y+"px",{moveable:a.moveable}}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=document.querySelector(".moveable-component".concat([this.props.index]));e.style.left=e.offsetWidth*this.props.index+(0===this.props.index?0:5)+"px",e.addEventListener("mousedown",this.mouseDown,!0),e.addEventListener("mouseup",this.mouseUp,!0),e.addEventListener("mousemove",this.mouseMove,!0),this.setState({moveable:e})}},{key:"componentWillUnmount",value:function(){this.state.moveable.removeEventListener("mousedown",this.mouseDown,!0),this.state.moveable.removeEventListener("mouseup",this.mouseUp,!0),this.state.moveable.removeEventListener("mousemove",this.mouseMove,!0)}},{key:"render",value:function(){return r.a.createElement("div",{style:{position:"absolute"},className:"moveable-component".concat([this.props.index])},this.props.component)}}]),a}(n.Component);function fe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(y.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"http://localhost:5000/api/".concat(a.userId,"/").concat(a.boardId,"/").concat(a.listId,"/cards"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+localStorage.getItem("token")},data:{title:t}},e.next=3,B()(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(y.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"http://localhost:5000/api/".concat(a.userId,"/").concat(a.boardId,"/").concat(a.listId,"/cards/").concat(t),method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+localStorage.getItem("token")}},e.next=3,B()(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e,t){return we.apply(this,arguments)}function we(){return(we=Object(y.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:"http://localhost:5000/api/".concat(a.userId,"/").concat(a.boardId,"/").concat(a.listId,"/cards"),method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+localStorage.getItem("token")},data:{cardId:t.cardId,title:t.title,order:t.order}},e.next=3,B()(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(83);function Te(e){return r.a.createElement(r.a.Fragment,null,!1===e.addingCard?r.a.createElement("div",{className:"add-card-view"},r.a.createElement("li",{onClick:e.toggleAddingCard,className:"add-card-button"},r.a.createElement("span",null,"+ Add card"))):r.a.createElement("div",{className:"add-card-menu"},r.a.createElement("li",null,r.a.createElement("form",{onSubmit:e.addCard},r.a.createElement("input",{name:"cardTitle",value:e.cardTitle,onChange:e.handleChange,type:"text",placeholder:"Card Title",autoFocus:"on",autoComplete:"off",className:"card-input-text"}),r.a.createElement("span",{disabled:""===e.cardTitle.trim(),onClick:e.addCard,type:"submit",className:"ml-2 add-button btn-success btn"},"+")))))}var ye=function(e){for(var t=e.options.length<3?"":"d-block",a=e.card.order>e.options.length-2&&0!==e.card.order&&e.options.length>1,n=[r.a.createElement("span",{onClick:function(){return e.toggleMoving(e.card.cardId,e.card.order,e.card.title)},className:"button button-info button-small ".concat(t," mb-1")},"Move"),r.a.createElement("span",{onClick:function(){return e.deleteCard(e.card.cardId,e.card.order)},className:"button button-danger button-small ".concat(t," mb-1")},"Delete")],o={top:a?"":0,bottom:a?0:""},i=[],s=0;s<e.options.length;s++)s!==e.card.order&&i.push(e.options[s]);var l=r.a.createElement(ae.a,null,r.a.createElement(te.a.Label,null,"Order"),r.a.createElement(te.a.Control,{onChange:e.handleChange,name:"newCardOrder",as:"select"},i));return r.a.createElement("div",{onClick:function(){return e.toggleDrag(e.card.cardId)}},e.updatingCardId!==e.card.cardId||e.changingOrder||e.addingCard?r.a.createElement("li",{className:"card list-group-item mb-1"},r.a.createElement("span",{className:"float-right"},r.a.createElement(E,{style:o,dropDownMenuItems:n})),r.a.createElement("span",{className:"card-title",onClick:function(){return e.toggleCardTitleUpdate(e.card.title,e.card.cardId,e.card.order)}},e.card.title)):r.a.createElement("li",{className:"card mb-2"},r.a.createElement("textarea",{onChange:e.handleChange,autoFocus:"on",name:"cardTitle",className:"card-title-change-input",value:e.cardTitle})),e.updatingCardId===e.card.cardId&&e.changingOrder?r.a.createElement(oe,{popUpBoxContent:l,confirmButtonFunction:function(){return e.moveCard()},cancelButtonFunction:function(){return e.toggleMoving("")}}):"")},Se=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={cards:e.props.cards,cardTitle:"",currentCardTitle:"",updatingCardId:"",addingCard:!1,updatingCardTitle:!1,showSavingLoader:!1,savingLoaderText:"Saving Changes...",cardOrder:0,newCardOrder:0,changingOrder:!1,ControllerParams:{userId:e.props.listParams.userId,boardId:e.props.listParams.boardId,listId:e.props.listId}},e.toggleAddingCard=function(){setTimeout((function(){e.setState({addingCard:!e.state.addingCard,changingOrder:!1,updatingCardId:"",updateCardTitle:!1,cardTitle:""})}),50)},e.addCard=function(t){t.preventDefault(),""!==e.state.cardTitle&&(e.setState({showSavingLoader:!0,savingLoaderText:"Adding Card...",cardTitle:""}),fe(e.state.cardTitle,e.state.ControllerParams).then((function(t){e.setState((function(e){return e.cards.push(t.data),{cards:e.cards}}))})).catch((function(e){M.error("Error while adding the card.","Try refreshing the page.")})).finally((function(){e.setState({showSavingLoader:!1})})))},e.deleteCard=function(t,a){null!==t&&M.warning("Are you sure?","You won't be able to revert this!").then((function(n){n.value&&(e.setState({showSavingLoader:!0,savingLoaderText:"Deleting Card..."}),be(t,e.state.ControllerParams).then((function(){e.setState((function(e){return e.cards=e.cards.filter((function(e){return e.cardId!==t})).map((function(e){return e.order>a&&e.order--,e})),{cards:e.cards}}))})).catch((function(e){console.log(e)})).finally((function(){e.setState({showSavingLoader:!1})})))}))},e.toggleCardTitleUpdate=function(t,a,n){e.setState({cardTitle:t,currentCardTitle:t,updatingCardId:a,cardOrder:n,updatingCardTitle:!0,addingCard:!1,changingOrder:!1})},e.cancelAddingCard=function(t){e.state.addingCard&&("Escape"===t.key&&e.setState({addingCard:!1}),t.target.matches(".add-card-menu")||t.target.matches(".add-button")||t.target.matches(".card-input-text")||e.setState({addingCard:!1}))},e.unToggleCardTitleUpdate=function(t){""===e.state.updatingCardId||(t.target.matches(".card-title")||t.target.matches(".card-title-change-input"))&&void 0===t.key||e.state.changingOrder||e.state.addingCard||!e.state.updatingCardTitle||("Escape"===t.key&&e.setState({updatingCardId:"",cardTitle:"",updatingCardTitle:!1}),"Enter"!==t.key&&void 0!==t.key||e.setState((function(e){return e.cardTitle=e.cardTitle.trim().replace("\n",""),{cardTitle:e.cardTitle}}),(function(){e.state.cardTitle!==e.state.currentCardTitle&&""!==e.state.cardTitle?(e.updateCardTitle({cardId:e.state.updatingCardId,title:e.state.cardTitle,currentTitle:e.state.currentCardTitle,order:e.state.cardOrder}),e.setState({updatingCardId:"",cardTitle:"",updatingCardTitle:!1})):e.setState({updatingCardId:"",cardTitle:"",updatingCardTitle:!1})})))},e.updateCardTitle=function(t){e.setState((function(e){return e.showSavingLoader=!0,e.cards.find((function(e){return e.cardId===t.cardId})).title=t.title,{cards:e.cards,showSavingLoader:e.showSavingLoader,savingLoaderText:"Updating Card..."}})),Ce(t,e.state.ControllerParams).then((function(){})).catch((function(a){e.props.cards.find((function(e){return e.cardId===t.cardId})).title=t.currentTitle,M.error("Error while saving changes.","Refresh and try again."),console.log(a)})).finally((function(){e.setState({showSavingLoader:!1})}))},e.toggleMoving=function(t,a,n){var r=""!==t,o=0===a?2:1;e.setState({updatingCardId:t,cardOrder:a,changingOrder:r,newCardOrder:o,cardTitle:n,addingCard:!1})},e.moveCard=function(){if(e.state.newCardOrder-1!==e.state.cardOrder){var t={cardId:e.state.updatingCardId,title:e.state.cardTitle,newCardOrder:e.state.newCardOrder,currentCardOrder:e.state.cardOrder,order:e.state.newCardOrder};t.newCardOrder-=1,t.order-=1,e.setState({showSavingLoader:!0,savingLoaderText:"Moving Card..."}),e.modifyCardsOrder(t.currentCardOrder,t.newCardOrder),Ce(t,e.state.ControllerParams).then((function(){})).catch((function(a){e.modifyCardsOrder(t.newCardOrder,t.currentCardOrder),M.error("Error while moving the card.","Refresh and try again.")})).finally((function(){e.setState({showSavingLoader:!1})})),e.toggleMoving()}},e.modifyCardsOrder=function(t,a){e.setState((function(e){return e.cards=e.cards.map((function(e){return e.order<=a&&e.order>t?e.order--:e.order>=a&&e.order<t&&e.order++,e})),e.cards[t].order=a,{cards:e.cards}}),(function(){e.setState((function(e){return e.cards.sort((function(e,t){return e.order-t.order})),{cards:e.cards}}))}))},e.toggleDrag=function(e){console.log(e)},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(h.a)({},n,r))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState((function(e){return e.cards.sort((function(e,t){return e.order-t.order})),{cards:e.cards}})),window.addEventListener("click",this.unToggleCardTitleUpdate),window.addEventListener("keyup",this.unToggleCardTitleUpdate),window.addEventListener("click",this.cancelAddingCard),window.addEventListener("keyup",this.cancelAddingCard)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.unToggleCardTitleUpdate),window.removeEventListener("keyup",this.unToggleCardTitleUpdate),window.removeEventListener("click",this.cancelAddingCard),window.removeEventListener("keyup",this.cancelAddingCard)}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.state.cards.length;a++){var n=r.a.createElement("option",{key:a}," ",a+1," ");t.push(n)}var o=this.state.cards.map((function(a){return r.a.createElement(ye,{deleteCard:e.deleteCard,key:a.cardId,card:a,toggleCardTitleUpdate:e.toggleCardTitleUpdate,cardTitle:e.state.cardTitle,handleChange:e.handleChange,updatingCardId:e.state.updatingCardId,toggleMoving:e.toggleMoving,moveCard:e.moveCard,changingOrder:e.state.changingOrder,options:t,addingCard:e.state.addingCard})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{maxHeight:this.props.maxHeight},className:"cards-container mb-2"},this.state.showSavingLoader?r.a.createElement("div",null,r.a.createElement("div",{className:"saving-changes-loader"},r.a.createElement(f,{width:10,height:10})),r.a.createElement("div",{className:"saving-changes-loader-text mr-4"},this.state.savingLoaderText)):"",o.length>0?r.a.createElement(r.a.Fragment,null,o):""),r.a.createElement("div",{className:"mt-2 mb-2"},r.a.createElement(Te,{handleChange:this.handleChange,toggleAddingCard:this.toggleAddingCard,addingCard:this.state.addingCard,addCard:this.addCard,cardTitle:this.state.cardTitle,toggleDrag:this.toggleDrag})))}}]),a}(n.Component);a(84);function Be(e){return r.a.createElement("li",{style:{left:300*e.numberOfLists+5+"px"},className:"list-group-item list-add p-0 ml-2"},!1===e.addingList?r.a.createElement("div",{onClick:e.toggleListAddition,className:"toggle-adding-list-button p-2"},"+  Add list"):r.a.createElement("form",{className:"list-to-add"},r.a.createElement("input",{autoFocus:!0,type:"text",value:e.listTitle,onChange:e.handleChange,className:"form-control list-input-text",placeholder:"List Title",name:"listTitle",autoComplete:"off"}),r.a.createElement("div",{className:"mt-2"},r.a.createElement(ne.a,{type:"submit",onClick:e.addList,disabled:""===e.listTitle.trim(),className:"button button-success button-small button-add-list"}," Add "),r.a.createElement("button",{onClick:e.toggleListAddition,className:"ml-1 button button-danger button-small button-cancel-add-list"}," Cancel "))))}var Oe=function(e){for(var t=[r.a.createElement("span",{onClick:function(){return e.toggleChangeOrder(e.listId,e.listOrder,e.listTitle)},className:"button button-small button-info d-block mb-1"},"Move"),r.a.createElement("span",{onClick:function(){return e.deleteList(e.listId,e.listOrder)},className:"button button-small button-danger d-block"},"Delete")],a=[],n=0;n<e.numberOfLists;n++)if(n!==e.listOrder){var o=r.a.createElement("option",{key:n}," ",n+1," ");a.push(o)}var i=r.a.createElement(ae.a,null,r.a.createElement(te.a.Label,null,"Order"),r.a.createElement(te.a.Control,{onChange:e.handleChange,name:"newListOrder",as:"select"},a));return r.a.createElement("li",{onClick:function(){return e.toggleDrag(e.listId)},className:"list-group-item p-0 ml-2"},r.a.createElement("div",{className:"list-item"},e.listToUpdateId!==e.listId||e.changingOrder?r.a.createElement("div",{className:"list-title-div"},r.a.createElement("span",{className:"list-title",onClick:function(){return e.toggleChangeTitle(e.listId,e.listTitle,e.listOrder)}},e.listTitle),r.a.createElement("span",{className:"float-right"},r.a.createElement(E,{dropDownMenuItems:t}))):r.a.createElement("div",{className:"mb-1"},r.a.createElement("input",{type:"text",name:"listTitleToUpdate",autoComplete:"off",className:"list-title-change-input",value:e.listTitleToUpdate,onChange:e.handleChange,autoFocus:"on"})),r.a.createElement("div",{className:"list-view"},e.listToUpdateId===e.listId&&e.changingOrder?r.a.createElement(oe,{popUpBoxContent:i,confirmButtonFunction:function(){return e.changeListOrder()},cancelButtonFunction:function(){return e.toggleChangeOrder("")}}):"",r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group"},r.a.createElement(Se,{maxHeight:e.maxHeight+"px",cards:e.cards,listParams:e.listParams,listId:e.listId}))))))},ke=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={lists:e.props.lists,listToUpdateId:"",currentListTitle:"",listTitleToUpdate:"",listTitle:"",addingList:!1,order:0,newListOrder:0,previousListOrder:0,changingOrder:!1,showSavingLoader:!1,listsControllerParams:{userId:JSON.parse(localStorage.getItem("user")).id,boardId:e.props.boardId}},e.updateMaxHeight=function(){var t=197;812===window.screen.availHeight||823===window.screen.availHeight?t=202:1024===window.screen.availHeight&&(t=235);var a=window.screen.availHeight-window.innerHeight,n=window.screen.availHeight-Math.abs(a+t);e.setState({maxHeight:n-25})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(h.a)({},n,r))},e.toggleListAddition=function(){setTimeout((function(){e.setState({addingList:!e.state.addingList})}),50)},e.cancelAddingList=function(t){t.target.matches(".list-to-add")||t.target.matches(".list-input-text")||t.target.matches(".button-add-list")||t.target.matches(".button-cancel-add-list")||!e.state.addingList||e.setState({addingList:!1})},e.toggleChangeTitle=function(t,a,n){e.setState({changingOrder:!1,listToUpdateId:t,currentListTitle:a,listTitleToUpdate:a,order:n})},e.unToggleListTitleUpdate=function(t){if(!(""===e.state.listToUpdateId||(t.target.matches(".list-title")||t.target.matches(".list-title-change-input"))&&void 0===t.key||e.state.changingOrder)&&("Escape"!==t.key&&void 0!==t.key||e.setState({listToUpdateId:"",listTitleToUpdate:""}),"Enter"===t.key)){if(e.state.listTitleToUpdate===e.state.currentListTitle)return void e.setState({listToUpdateId:"",listTitleToUpdate:""});e.updateListTitle({listId:e.state.listToUpdateId,title:e.state.listTitleToUpdate,currentTitle:e.state.currentListTitle,order:e.state.order}),e.setState({listToUpdateId:"",listTitleToUpdate:""})}},e.toggleChangeOrder=function(t,a,n){var r=""!==t,o=0===a?2:1;e.setState({listToUpdateId:t,changingOrder:r,previousListOrder:a,newListOrder:o,listTitleToUpdate:n})},e.changeListOrder=function(){e.updateListOrder({listId:e.state.listToUpdateId,title:e.state.listTitleToUpdate,newListOrder:e.state.newListOrder,currentListOrder:e.state.previousListOrder,order:e.state.newListOrder}),e.toggleChangeOrder("")},e.addList=function(t){t.preventDefault(),""!==e.state.listTitle&&(e.setState({showSavingLoader:!0}),ce(e.state.listTitle,e.state.listsControllerParams).then((function(t){e.setState((function(e){return e.lists.push(t.data.list),{lists:e.lists}}))})).catch((function(e){M.error("Error while adding the list.","Try refreshing the page."),console.log(e)})).finally((function(){e.setState({showSavingLoader:!1}),e.setState({listTitle:""})})))},e.deleteList=function(t,a){null!==t&&M.warning("Are you sure?","You won't be able to revert this!").then((function(n){n.value&&(e.setState({showSavingLoader:!0}),ue(t,e.state.listsControllerParams).then((function(){e.setState((function(e){return e.lists=e.lists.filter((function(e){return e.listId!==t})).map((function(e){return e.order>a&&e.order--,e})),{lists:e.lists}}))})).catch((function(e){console.log(e)})).finally((function(){e.setState({showSavingLoader:!1})})))}))},e.updateListTitle=function(t){e.setState((function(e){return e.showSavingLoader=!0,e.lists.find((function(e){return e.listId===t.listId})).title=t.title,e})),ge(t,e.state.listsControllerParams).then((function(){})).catch((function(a){e.props.lists.find((function(e){return e.listId===t.listId})).title=t.currentTitle,M.error("Error while saving changes.","Refresh and try again.")})).finally((function(){e.setState({showSavingLoader:!1})}))},e.modifyListsOrder=function(t,a){e.setState((function(e){return e.lists=e.lists.map((function(e){return e.order<=a&&e.order>t?e.order--:e.order>=a&&e.order<t&&e.order++,e})),e.lists[t].order=a,{lists:e.lists}}),(function(){e.setState((function(e){return e.lists.sort((function(e,t){return e.order-t.order})),{lists:e.lists}}))}))},e.updateListOrder=function(t){t.newListOrder-=1,t.order-=1,e.setState({showSavingLoader:!0}),e.modifyListsOrder(t.currentListOrder,t.newListOrder),ge(t,e.state.listsControllerParams).then((function(){})).catch((function(a){e.modifyListsOrder(t.newListOrder,t.currentListOrder),M.error("Error while saving changes.","Refresh and try again.")})).finally((function(){e.setState({showSavingLoader:!1})}))},e.toggleDrag=function(e){},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.cancelAddingList),window.addEventListener("keyup",this.cancelAddingList),window.addEventListener("click",this.unToggleListTitleUpdate),window.addEventListener("keyup",this.unToggleListTitleUpdate),this.updateMaxHeight(),window.addEventListener("resize",this.updateMaxHeight)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.unToggleListTitleUpdate),window.removeEventListener("keyup",this.unToggleListTitleUpdate),window.removeEventListener("click",this.CancelAddingList),window.removeEventListener("keyup",this.CancelAddingList),window.removeEventListener("resize",this.updateMaxHeight)}},{key:"render",value:function(){var e=this,t=this.state.lists.map((function(t,a){var n=r.a.createElement(Oe,{listParams:e.state.listsControllerParams,listId:t.listId,listTitle:t.title,listOrder:t.order,changingOrder:e.state.changingOrder,cards:t.cards,deleteList:e.deleteList,toggleChangeTitle:e.toggleChangeTitle,listTitleToUpdate:e.state.listTitleToUpdate,listToUpdateId:e.state.listToUpdateId,toggleChangeOrder:e.toggleChangeOrder,changeListOrder:e.changeListOrder,handleChange:e.handleChange,showSavingLoader:e.state.showSavingLoader,numberOfLists:e.state.lists.length,maxHeight:e.state.maxHeight,toggleDrag:e.toggleDrag});return r.a.createElement(he,{key:t.listId,index:a,component:n})}));return r.a.createElement("div",{className:"lists-container"},this.state.showSavingLoader?r.a.createElement("div",null,r.a.createElement("div",{className:"saving-changes-loader"},r.a.createElement(f,{width:10,height:10})),r.a.createElement("div",{className:"saving-changes-loader-text mr-4"},"Saving Changes...")):"",r.a.createElement("ul",{className:"lists list-group list-group-horizontal"},t,r.a.createElement(Be,{numberOfLists:this.state.lists.length,toggleListAddition:this.toggleListAddition,addingList:this.state.addingList,listTitle:this.state.listTitle,addList:this.addList,handleChange:this.handleChange})))}}]),a}(n.Component);a(85);var Ie=function(e){if(e.loadingBoard)return r.a.createElement("div",{className:"board-details"},r.a.createElement("div",{className:"boards-loader"},r.a.createElement("div",{className:"loader-view pb-5 mb-5 d-flex justify-content-center"},r.a.createElement(f,{width:100,height:100})),r.a.createElement("div",{className:"loader-view loader-text mt-5 pt-5 d-flex justify-content-center"},r.a.createElement("h5",null,"Loading board..."))));if(e.errorWhileLoadingBoard)return r.a.createElement(ee,{code:"500",text:"Error while loading the board.",buttonHTML:r.a.createElement("button",{onClick:function(){return e.loadBoard()},className:"error-page-button"},"TRY AGAIN")});var t=r.a.createElement(ae.a,{className:"mt-4"},r.a.createElement(ne.a,{onClick:e.toggleInvitingPeople,className:"button button-yellow d-block button-small mb-1"},"Invite people"),r.a.createElement(ne.a,{onClick:function(){return e.deleteBoard(e.boardId)},className:"button button-danger d-block button-small"},"Delete board")),a=r.a.createElement(ae.a,{className:"mt-4"},r.a.createElement(te.a.Label,{className:"text-dark"}," invite people "),r.a.createElement(te.a.Control,{onChange:e.handleChange,name:"peopleEmails",placeholder:"user1@gmail.com, user2@outlook.com, ...",autoFocus:"on",autoComplete:"off",value:e.peopleEmails}),r.a.createElement(ae.a,{className:"mt-4"},r.a.createElement(ne.a,{onClick:e.toggleInvitingPeople,className:"button button-small button-info mr-2"},"Back"),r.a.createElement(ne.a,{type:"submit",onClick:e.invitePeople,className:"button button-small button-success"},"Invite"))),n={background:"rgba(255, 255, 255, 0.8)",width:window.innerWidth>767?"600px":"",height:"200px",top:"35%",position:"fixed"},o=!(!e.showMenu&&!e.invitingPeople),i={opacity:o?.4:1,pointerEvents:o?"none":"",WebkitUserSelect:o?"none":"",msUserSelect:o?"none":"",userSelect:o?"none":""};return r.a.createElement("div",null,r.a.createElement("div",{style:i,className:"board-details"},r.a.createElement("div",{className:"ml-1 mr-1"},e.updatingBoardTitle?r.a.createElement("div",{className:"mt-1"},r.a.createElement("form",{onSubmit:e.unToggleUpdatingTitle},r.a.createElement("input",{onChange:e.handleChange,className:"board-title-input mt-1 mb-2",type:"text",name:"boardTitle",value:e.boardTitle,autoComplete:"off",autoFocus:"on"}))):r.a.createElement("div",{className:"mt-1 mb-1"},r.a.createElement("span",{onClick:e.toggleUpdatingTitle,className:"board-title"}," ",e.board.boardName," "),r.a.createElement("span",{onClick:e.toggleMenu,className:"show-menu-button float-right"},"Show Menu")),r.a.createElement("div",{className:"board-wrapper"},r.a.createElement("div",{className:"board-contents"},r.a.createElement(ke,{boardId:e.board.boardId,lists:e.board.lists}))))),e.showMenu?r.a.createElement(oe,{popUpBoxContent:t,style:n,showConfirmButton:!1,cancelButtonFunction:e.toggleMenu,cancelButtonText:"Close menu"}):"",e.invitingPeople&&!e.showMenu?r.a.createElement(oe,{popUpBoxContent:a,style:n,cancelButtonFunction:e.toggleInvitingPeople,showConfirmButton:!1,showCancelButton:!1,cancelButtonText:"Back",confirmButtonText:"Add Users"}):"")},Ne=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userId:JSON.parse(localStorage.getItem("user")).id,board:{},loadingBoard:!0,errorWhileLoadingBoard:!1,updatingBoardTitle:!1,boardTitle:"",currentBoardTitle:"",showSavingLoader:!1,savingLoaderText:"Updating title...",showMenu:!1,invitingPeople:!1,peopleEmails:""},e.toggleInvitingPeople=function(){e.setState({invitingPeople:!e.state.invitingPeople,showMenu:!e.state.showMenu})},e.invitePeople=function(t){t.preventDefault(),e.setState({showSavingLoader:!0,savingLoaderText:"Working on it..."});for(var a=e.state.peopleEmails.split(","),n=0;n<a.length;n++)a[n]=a[n].trim();X(e.state.userId,e.state.board.boardId,a).then((function(e){M.success("Users have been added successfully.")})).catch((function(e){console.log(e),M.error("Error try reloading the page.")})).finally((function(){e.setState({showSavingLoader:!1})}))},e.loadBoard=function(){var t=window.location.pathname.slice(8,16);e.setState({loadingBoard:!0,errorWhileLoadingBoard:!1}),J(e.state.userId,t).then((function(t){e.setState({board:t.data.board,errorWhileLoadingBoard:!1},(function(){e.setState((function(e){return e.board.lists.sort((function(e,t){return e.order-t.order})),{board:e.board}}))}))})).catch((function(t){e.setState({errorWhileLoadingBoard:!0}),console.log(t)})).finally((function(){e.setState({loadingBoard:!1})}))},e.toggleUpdatingTitle=function(){e.setState({updatingBoardTitle:!e.state.updatingBoardTitle,boardTitle:e.state.board.boardName,currentBoardTitle:e.state.board.boardName})},e.toggleMenu=function(){e.setState({showMenu:!e.state.showMenu})},e.deleteBoard=function(t){M.warning("Are you sure?","You won't be able to revert this!").then((function(a){a.value&&(e.setState({deletingBoard:!0}),q(t,e.state.userId).then((function(){M.success("Board has been deleted!","",!1,"","center"),e.setState({boardDeleted:!0})})).catch((function(e){M.error("Error","",!0),console.log(e)})))}))},e.unToggleUpdatingTitle=function(t){if(t.preventDefault(),!1!==e.state.updatingBoardTitle&&(!t.target.matches(".board-title")&&!t.target.matches(".board-title-input")||void 0!==t.key)&&("Escape"===t.key&&e.toggleUpdatingTitle(),void 0===t.key||"Enter"===t.key)){if(e.state.boardTitle===e.state.currentBoardTitle)return void e.toggleUpdatingTitle();var a={boardId:e.state.board.boardId,boardName:e.state.boardTitle,currentBoardTitle:e.state.board.boardName};e.setState((function(e){return e.board.boardName=a.boardName,{board:e.board,showSavingLoader:!0,savingLoaderText:"Updating title..."}})),e.toggleUpdatingTitle(),_(e.state.userId,a).then((function(){})).catch((function(t){e.setState((function(e){return e.board.boardName=a.currentBoardTitle,{board:e.board}}))})).finally((function(){e.setState({showSavingLoader:!1})}))}},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(h.a)({},n,r))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.loadBoard(),window.addEventListener("click",this.unToggleUpdatingTitle),window.addEventListener("keyup",this.unToggleUpdatingTitle)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.unToggleUpdatingTitle),window.removeEventListener("keyup",this.unToggleUpdatingTitle)}},{key:"render",value:function(){return this.state.boardDeleted?r.a.createElement(m.a,{to:"/boards"}):r.a.createElement("div",null,this.state.showSavingLoader?r.a.createElement("div",null,r.a.createElement("div",{className:"saving-changes-loader"},r.a.createElement(f,{width:10,height:10})),r.a.createElement("div",{className:"saving-changes-loader-text mr-4"},this.state.savingLoaderText)):"",r.a.createElement(Ie,{board:this.state.board,handleChange:this.handleChange,errorWhileLoadingBoard:this.state.errorWhileLoadingBoard,loadingBoard:this.state.loadingBoard,loadBoard:this.loadBoard,toggleUpdatingTitle:this.toggleUpdatingTitle,updatingBoardTitle:this.state.updatingBoardTitle,boardTitle:this.state.boardTitle,unToggleUpdatingTitle:this.unToggleUpdatingTitle,showMenu:this.state.showMenu,toggleMenu:this.toggleMenu,deleteBoard:this.deleteBoard,boardId:this.state.board.boardId,toggleInvitingPeople:this.toggleInvitingPeople,invitingPeople:this.state.invitingPeople,invitePeople:this.invitePeople,peopleEmails:this.state.peopleEmails}))}}]),a}(n.Component);var Le=function(){return r.a.createElement("div",null," Profile Component ")},xe=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Le,null)}}]),a}(n.Component),je=function(e){Object(c.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={authenticated:null!==localStorage.getItem("token"),isSmallScreen:window.innerWidth<768},e}return Object(l.a)(a,[{key:"changeAuthenticationState",value:function(){var e=null!==localStorage.getItem("token");this.setState({authenticated:e})}},{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(P,{changeAuthenticationState:this.changeAuthenticationState.bind(this),authenticated:this.state.authenticated,isSmallScreen:this.state.isSmallScreen}),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/",component:W}),r.a.createElement(g,{exact:!0,path:"/boards",component:le}),r.a.createElement(g,Object.assign({exact:!0,path:"/boards/:boardId/:boardName",component:Ne},this.props)),r.a.createElement(g,{exact:!0,path:"/profile",component:xe}),r.a.createElement(m.b,{exact:!0,path:"/error",component:ee}),r.a.createElement(p,{exact:!0,path:"/register",component:R,changeAuthenticationState:this.changeAuthenticationState.bind(this),isSmallScreen:this.state.isSmallScreen}),r.a.createElement(m.b,{render:function(){return r.a.createElement(m.a,{to:{pathname:"/"}})}})))}}]),a}(n.Component);a(86),a(87);i.a.render(r.a.createElement(je,null),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.b73c5b77.chunk.js.map